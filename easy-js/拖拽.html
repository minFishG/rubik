<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽</title>
    <script src="moving.js"></script>
    <style>
        body{
            margin: 0;padding: 0;
        }
        #div1{
            position:relative;margin: 0;padding: 0;
            background-color: blue;
            width: 100px;height: 100px;
        }
        .diva{
            position:absolute;background-color: darkgrey;
            width: 100px;height: 100px;font-size: 20px;text-align: center;line-height: 100px;
            top: 300px;left: 300px;z-index: -1;
        }
    </style>
    <script>
        window.onload=function () {
          var n1=document.getElementById("div1");
          var wzX=0;
          var wzY=0;
          n1.onmousedown=function (ev) {
              var oev=ev||event;
              wzX=oev.clientX-n1.offsetLeft;
              wzY=oev.clientY-n1.offsetTop;
              document.onmousemove=function (ev) {
                  var oev=ev||event;
                  var t=oev.clientY-wzY;
                  var l=oev.clientX-wzX;
                  var offwid=document.documentElement.clientWidth-n1.offsetWidth;
                  var offhei=document.documentElement.clientHeight-n1.offsetHeight;
                  if(l<0){
                      l=0;
                  }else if(l>offwid){
                      l=offwid;
                  }
                  if(t<0){
                      t=0;
                  }else if(t>offhei){
                      t=offhei;
                  }
                  n1.style.top=t+"px";
                  n1.style.left=l+"px";
              };
              document.onmouseup=function () {
                  document.onmousemove=null;
                  document.onmouseup=null;
                  if(n1.offsetTop>200&&n1.offsetTop<400&&n1.offsetLeft>200&&n1.offsetLeft<400){
                      startmove(n1,{top:300,left:300});
                  }
              };
          };
        }
    </script>
</head>
<body>
<div id="div1"></div>
<div class="diva">1</div>
</body>
</html>