<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>缓冲运动</title>
    <style>
        *{margin: 0;padding: 0;}
        #div1{
            width:500px;height: 500px;background-color: aqua;
            position: absolute;
        }
        .diva{
            width: 1px;height:10px;background-color: black;
            position: absolute;left: 500px;
        }
        .divb{
            width: 1px;height:500px;background-color: black;
            position: absolute;left: 1000px;
        }
    </style>
    <script>
        window.onload=function () {
            var timer=null;
            var odiv=document.getElementById("div1");
            function movediv(iTarget) {
                clearInterval(timer);
                timer=setInterval(function () {
                    var iSpeed=(iTarget-odiv.offsetLeft)/8;
                    iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);
                    if(odiv.offsetLeft==iTarget){
                        clearInterval(timer);
                    }else{
                        odiv.style.left=odiv.offsetLeft+iSpeed+"px";
                    }
                    odiv.innerText=iSpeed;
                    },30);
            }
            odiv.onclick=function () {
                movediv(500);
            };
            odiv.ondblclick=function () {
                movediv(0);
            };
            }
    </script>
</head>
<body>
<div id="div1"></div>
<div class="diva"></div>
<div class="divb"></div>
</body>
</html>